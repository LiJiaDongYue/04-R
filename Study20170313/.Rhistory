cust_header = c(`User-Agent` = "Mozilla/5.0 (Windows NT 6.1; WOW64; rv:26.0) Gecko/20100101 Firefox/26.0",
Accept = "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8",
`Accept-Language` = "en-us", Connection = "keep-alive")
start_url = "http://shenzhen.lashou.com/cate/meishi"
pagesource <- getURL(start_url, httpheader = cust_header, .encoding = "utf-8")
library(RCurl)
library(XML)
install.packages("XML")
install.packages("XML")
install.packages("RCurl")
library(RCurl)
library(XML)
install.packages("bitops")
library(RCurl)
library(XML)
library(bitops)
library(RCurl)
cust_header <-  c(`User-Agent` = "Mozilla/5.0 (Windows NT 6.1; WOW64; rv:26.0) Gecko/20100101 Firefox/26.0",
Accept = "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8",
`Accept-Language` = "en-us", Connection = "keep-alive")
start_url <-  "http://shenzhen.lashou.com/cate/meishi"
pagesource <- getURL(start_url, httpheader = cust_header, .encoding = "utf-8")
install.packages("rattle")
library(rattle)
library(rattle)
install.packages("rattle")
install.packages("rattle")
source('~/Public/02-R/01-Projects/Study20170313/简单爬虫.R')
pagetree <- htmlTreeParse(pagesource, encoding = "GB2312", error = function(...) {},
useInternalNodes = TRUE, trim = TRUE)# 注意encoding
library(bitops)
library(RCurl)
library(XML)
pagetree <- htmlTreeParse(pagesource, encoding = "GB2312", error = function(...) {},
useInternalNodes = TRUE, trim = TRUE)# 注意encoding
node<-getNodeSet(pagetree, "//div[contains(@class,"goods")]//a[@class="goods-name"]//text()")
source('~/Public/02-R/01-Projects/Study20170313/简单爬虫.R')
library(rattle)
rattle()
node<-getNodeSet(pagetree, "//div[contains(@class,"goods")]//a[@class="goods-name"]//text()")
install.packages("RMySQL")
library(DBI)
library(RMySQL)
conn <- dbConnect(MySQL(), dbname = "rmysql", username="rmysql", password="leal")
users = dbGetQuery(conn, "SELECT * FROM t_user")
dbDisconnect(conn)
users
conn <- dbConnect(MySQL(), dbname = "rmysql", username="rmysql", password="leal")
users = dbGetQuery(conn, "SELECT id,user FROM t_user order by id")
dbDisconnect(conn)
users
summary(MySQL(), verbose = TRUE)
summary(conn, verbose = TRUE)#MySQL连接实例信息
conn <- dbConnect(MySQL(), dbname = "rmysql", username="rmysql", password="leal")
summary(conn, verbose = TRUE)#MySQL连接实例信息
conn <- dbConnect(MySQL(), dbname = "rmysql", username="rmysql", password="leal",host='127.0.0.1')
summary(conn, verbose = TRUE)#MySQL连接实例信息
conn <- dbConnect(MySQL(), dbname = "rmysql", username="rmysql", password="leal",host='127.0.0.1',port=3306)
summary(conn, verbose = TRUE)#MySQL连接实例信息
t_demo <- data.frame(
id=seq(1:10),
letter=letters[1:10],
value=rnorm(10)
)
dbWriteTable(conn, "t_demo", t_demo)
dbReadTable(conn, "t_demo")
dbGetQuery(conn,strsql)
)ENGINE=INNODB DEFAULT CHARSET=UTF8;"
strsql <- "CREATE TABLE t_blog(
id INT PRIMARY KEY AUTO_INCREMENT,
title varchar(12) NOT NULL UNIQUE,
author varchar(12) NOT NULL,
length int NOT NULL,
create_date timestamp NOT NULL DEFAULT now()
)ENGINE=INNODB DEFAULT CHARSET=UTF8;"
dbGetQuery(conn,strsql)
dbListFields(conn,'t_blog')
blog <- data.frame(
title=c("one","two","查看集统计信息"),
author=c("1","2","3"),
leng=seq(1:3)
)
blog
dbWriteTable(conn,"t_blog",blog)
dbWriteTable(conn,"t_blog",blog,row.names=FALSE,append=TRUE)
dbWriteTable(conn,"t_blog",blog,row.names=FALSE,append=TRUE)
blog <- data.frame(
title=c("one","two","查看集统计信息"),
author=c("1","2","3"),
length=seq(1:3)
)
dbWriteTable(conn,"t_blog",blog,row.names=FALSE,append=TRUE)
dbReadTable(conn,"t_blog")
dbGetQuery(conn,"SET NAMES=utf8")
dbGetQuery(conn,"SET NAMES utf8")
dbReadTable(conn,"t_blog")
dbWriteTable(conn,"t_blog",blog,row.names=FALSE,append=TRUE)
dbReadTable(conn,"t_blog")
dbGetQuery(conn,"INSERT INTO t_blog('234','看集',4)")
dbGetQuery(conn,"INSERT INTO t_blog(NULL,'234','看集',4,NULL)")
dbGetQuery(conn,"INSERT INTO t_blog VALUES('234','看集',4)")
dbGetQuery(conn,"INSERT INTO t_blog VALUES(NULL,'234','看集',4,NULL)")
dbReadTable(conn,"t_blog")
dbSendQuery(conn,"INSERT INTO t_blog VALUES(NULL,'123','看集',5,NULL)")
conn <- dbConnect(MySQL(), dbname = "rmysql", username="rmysql", password="leal",host='127.0.0.1',port=3306)
dbSendQuery(conn,"INSERT INTO t_blog VALUES(NULL,'123','看集',5,NULL)")
dbReadTable(conn,"t_blog")
