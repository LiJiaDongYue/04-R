{
    "collab_server" : "",
    "contents" : "\n#RMysql\nlibrary(DBI)\nlibrary(RMySQL)\n#rmysql localhost & remote\nconn <- dbConnect(MySQL(), dbname = \"rmysql\", username=\"rmysql\", password=\"leal\",host='127.0.0.1',port=3306)\nusers = dbGetQuery(conn, \"SELECT id,user FROM t_user order by id\")\ndbDisconnect(conn)\n\ndbListTables(conn)#查看数据库的表\ndbListFields(conn, \"t_user\")#查看表的字段\nsummary(MySQL(), verbose = TRUE)#查询MySQL信\nsummary(conn, verbose = TRUE)#MySQL连接实例信息\ndbListConnections(MySQL())#MySQL连接信息\n\n\n# 建表并插入数据\nt_demo <- data.frame(\n  id=seq(1:10),\n  letter=letters[1:10],\n  value=rnorm(10)\n)\ndbWriteTable(conn, \"t_demo\", t_demo)\n## 获得整个表数据\ndbReadTable(conn, \"t_demo\")\ndbWriteTable(conn, \"t_demo\", t_demo, append=TRUE)# 插入新数据\ndbWriteTable(conn, \"t_demo\", t_demo, overwrite=TRUE)# 覆盖原表数据\ndbGetQuery(conn, \"SELECT * FROM t_demo where c>0\")#查询数据 get data.frame\ndbSendQuery(conn, \"SELECT * FROM t_demo where c>0\")# 执行SQL脚本查询 get \"MySQLResult\"\nfetch(rs, n = 3) #分页\nsummary(rs, verbose = TRUE) #查看集统计信息\n#删除表\nif(dbExistsTable(conn,'t_demo')){\n       dbRemoveTable(conn, \"t_demo\")\n}\n\nstrsql <- \"CREATE TABLE t_blog(\nid INT PRIMARY KEY AUTO_INCREMENT,\ntitle varchar(12) NOT NULL UNIQUE,\nauthor varchar(12) NOT NULL, \nlength int NOT NULL,\ncreate_date timestamp NOT NULL DEFAULT now()\n)ENGINE=INNODB DEFAULT CHARSET=UTF8;\"\ndbGetQuery(conn,strsql)\ndbListFields(conn,'t_blog')\n\nblog <- data.frame(\n  title=c(\"one\",\"two\",\"查看集统计信息\"),\n  author=c(\"1\",\"2\",\"3\"),\n  length=seq(1:3)\n)\n\ndbGetQuery(conn,\"SET NAMES utf8\")\ndbWriteTable(conn,\"t_blog\",blog,row.names=FALSE,append=TRUE)\ndbGetQuery(conn,\"INSERT INTO t_blog VALUES(NULL,'234','看集',4,NULL)\")\ndbSendQuery(conn,\"INSERT INTO t_blog VALUES(NULL,'123','看集',5,NULL)\")\ndbReadTable(conn,\"t_blog\")\n\n\n\n\n\n\n",
    "created" : 1489565527926.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2444645855",
    "id" : "14F99D5E",
    "lastKnownWriteTime" : 1489572974,
    "last_content_update" : 1489572974248,
    "path" : "~/Public/02-R/01-Projects/Study20170313/RMysql使用.R",
    "project_path" : "RMysql使用.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}